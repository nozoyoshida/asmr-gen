# プロジェクト概要

このプロジェクト「ASMR-GEN」は、与えられたシチュエーション（テキストプロンプト）から、没入感のあるバイノーラルASMR音声を自動生成するために設計されたマルチエージェントアプリケーションです。Agent Development Kit (ADK) を使用して構築されており、さまざまなタスクにGoogleのGeminiモデルを活用しています。

このアプリケーションは、それぞれがコンテンツ生成プロセスの特定の部分を担当する一連のエージェントとして構成されています。

1.  **脚本生成:** `script_agent` が `gemini-2.5-pro` を使用して、ユーザーの入力に基づいた詳細な脚本を作成します。
2.  **テキスト読み上げ (TTS):** `tts_agent` が生成された脚本を受け取り、`gemini-2.5-flash` とカスタムTTSツール (`gemini-2.5-pro-preview-tts` を使用) を使ってモノラル音声ファイルを合成します。
3.  **空間演出プランニング:** `README.md` には、脚本を分析して音声の空間化プランを作成する「空間演出プランニング」エージェントが記載されています。
4.  **バイノーラルレンダリング:** 最後に、「ASMR化エージェント」が空間化プランをモノラル音声に適用し、バイノーラルASMR音声ファイルを生成します。

このプロジェクトはPythonで書かれており、`google-adk` および `google-genai` ライブラリを使用しています。

# ビルドと実行

`README.md` には、プロジェクトのセットアップと実行に関する一般的なガイドが記載されています。

**1. インストール:**

```bash
pip install -r requirements.txt
```

**2. 設定:**

`.env` ファイルを作成し、Gemini APIキーを追加します:

```
GEMINI_API_KEY=YOUR_API_KEY
```

**3. アプリケーションの実行:**

`README.md` では以下のようなコマンドが提案されていますが、正確なエントリーポイント（`main.py`）は現在のディレクトリに存在しません。

```bash
# README.md の例（main.py が見つかりません）
python main.py --situation "恋人との寝る前の平和なやり取り" --output output_asmr.wav
```

**TODO:** エージェントシーケンスを実行するための正確なコマンドを明確にする必要があります。`main.py` ファイルが存在しません。

# 開発規約

*   **エージェントベースのアーキテクチャ:** プロジェクトは、それぞれが特定の責任を持つ一連のエージェントに整理されています。このモジュラー設計は、Agent Development Kit (ADK) によって促進されます。
*   **順次実行:** エージェントは `SequentialAgent` で連結されており、TTSが合成される前に脚本が生成されるようになっています。
*   **ツールベースの機能:** TTSプロセスは、`tts_agent` によって呼び出されるツール（`synthesize_tts`）にカプセル化されています。これは、関心事を分離し、エージェントのロジックをより読みやすくするための良い習慣です。
*   **エラーハンドリング:** `tts_agent` には、最初のTTS合成が失敗した場合に別の音声を試す、シンプルなリトライメカニズムが含まれています。
*   **出力管理:** 生成された音声ファイルは、タイムスタンプ付きで `asmr_gen_adk/output/audio` ディレクトリに保存されます。
